<div class="test"><h1>Edit Recipe</h1></div>


<%= form_tag recipe_path, {:role => 'form', :method => 'PATCH'} do %>
<div id="recipe_form">
  <div>
    <%= label_tag "recipe_form[title]", "Title" %>
    <%= text_field_tag "recipe_form[title]",@recipe.title, {:class => 'form-control'} %>
  </div>
  <div>
    <%= label_tag "recipe_form[instructions]", "Instructions" %>
    <%= text_area_tag "recipe_form[instructions]",@recipe.instructions, {:class => 'form-control'} %>
  </div>
  <div>
    <a href="javascript:;" id="addNewIngredient">Add Another Ingredient</a>
  </div>
  <div>
    <% @recipe.recipe_ingredients.each do |r_ingredient| %>
      <%= render "exist_ingredient_form", ing: r_ingredient %>
    <% end %>
  </div>
  <div>
    <%= hidden_field_tag "recipe_form[recipe_id]", @recipe.id %>
  </div>

</div>

  <%= submit_tag nil, class: "btn btn-default btn-sm" %>

<% end %>

<div>
  <%= button_to "Delete Recipe", recipe_path(@recipe), method: :delete, class: "btn btn-default btn-sm" %>
</div>

<!-- http://stackoverflow.com/questions/17839147/dynamically-add-fields-in-rails-with-out-nested-attributes -->

<div class="hide" id="new_ingredient_form">
  <%= render partial: "new_ingredient_form" %>
</div>
